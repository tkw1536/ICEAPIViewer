import { Trip } from "./api/trip";
import { TripRenderer } from "./renderer/trip";

$(document).ready(function(){
    
    // for now we hard-code the trip data
    let trip = new Trip({"tripDate":"2017-11-18","trainType":"ICE","vzn":"732","actualPosition":231612,"distanceFromLastStop":4641,"totalDistance":783139,"stopInfo":{"scheduledNext":"8000260_00","actualNext":"8000260_00","actualLast":"8000284_00","actualLastStarted":"8000260","finalStationName":"Oldenburg(Oldb)","finalStationEvaNr":"8000291_00"},"stops":[{"station":{"evaNr":"8002187_00","name":"Garmisch-Partenkirchen","geocoordinates":{"latitude":47.491452,"longitude":11.097013}},"timetable":{"scheduledArrivalTime":null,"actualArrivalTime":null,"arrivalDelay":"","scheduledDepartureTime":1511018580000,"actualDepartureTime":1511018580000,"departureDelay":""},"track":{"scheduled":"3","actual":"3"},"info":{"status":0,"passed":true,"distance":0,"distanceFromStart":0},"delayReasons":null},{"station":{"evaNr":"8004506_00","name":"Oberau","geocoordinates":{"latitude":47.559273,"longitude":11.139272}},"timetable":{"scheduledArrivalTime":1511018940000,"actualArrivalTime":1511018940000,"arrivalDelay":"","scheduledDepartureTime":1511019060000,"actualDepartureTime":1511019060000,"departureDelay":""},"track":{"scheduled":"1","actual":"1"},"info":{"status":0,"passed":true,"distance":8184,"distanceFromStart":8184},"delayReasons":null},{"station":{"evaNr":"8004185_00","name":"Murnau","geocoordinates":{"latitude":47.682266,"longitude":11.192628}},"timetable":{"scheduledArrivalTime":1511020200000,"actualArrivalTime":1511020200000,"arrivalDelay":"","scheduledDepartureTime":1511020320000,"actualDepartureTime":1511020320000,"departureDelay":""},"track":{"scheduled":"1","actual":"1"},"info":{"status":0,"passed":true,"distance":14253,"distanceFromStart":22437},"delayReasons":null},{"station":{"evaNr":"8005927_00","name":"Tutzing","geocoordinates":{"latitude":47.907142,"longitude":11.27289}},"timetable":{"scheduledArrivalTime":1511021940000,"actualArrivalTime":1511021940000,"arrivalDelay":"","scheduledDepartureTime":1511022060000,"actualDepartureTime":1511022060000,"departureDelay":""},"track":{"scheduled":"3","actual":"3"},"info":{"status":0,"passed":true,"distance":25721,"distanceFromStart":48158},"delayReasons":null},{"station":{"evaNr":"8000261_00","name":"München Hbf","geocoordinates":{"latitude":48.140232,"longitude":11.558335}},"timetable":{"scheduledArrivalTime":1511024220000,"actualArrivalTime":1511024460000,"arrivalDelay":"+4","scheduledDepartureTime":1511025600000,"actualDepartureTime":1511025660000,"departureDelay":"+1"},"track":{"scheduled":"14","actual":"14"},"info":{"status":0,"passed":true,"distance":33512,"distanceFromStart":81670},"delayReasons":[{"code":"36","text":"Technische Störung am Zug"}]},{"station":{"evaNr":"8000183_00","name":"Ingolstadt Hbf","geocoordinates":{"latitude":48.744541,"longitude":11.437337}},"timetable":{"scheduledArrivalTime":1511027880000,"actualArrivalTime":1511027880000,"arrivalDelay":"","scheduledDepartureTime":1511028060000,"actualDepartureTime":1511028060000,"departureDelay":""},"track":{"scheduled":"4","actual":"4"},"info":{"status":0,"passed":true,"distance":67805,"distanceFromStart":149475},"delayReasons":null},{"station":{"evaNr":"8000284_00","name":"Nürnberg Hbf","geocoordinates":{"latitude":49.445616,"longitude":11.082989}},"timetable":{"scheduledArrivalTime":1511029860000,"actualArrivalTime":1511029860000,"arrivalDelay":"","scheduledDepartureTime":1511030040000,"actualDepartureTime":1511030040000,"departureDelay":""},"track":{"scheduled":"7","actual":"7"},"info":{"status":0,"passed":true,"distance":82137,"distanceFromStart":231612},"delayReasons":null},{"station":{"evaNr":"8000260_00","name":"Würzburg Hbf","geocoordinates":{"latitude":49.801796,"longitude":9.93578}},"timetable":{"scheduledArrivalTime":1511033280000,"actualArrivalTime":1511033340000,"arrivalDelay":"+1","scheduledDepartureTime":1511033400000,"actualDepartureTime":1511033400000,"departureDelay":""},"track":{"scheduled":"5","actual":"5"},"info":{"status":0,"passed":false,"distance":91662,"distanceFromStart":323274},"delayReasons":[{"code":"36","text":"Technische Störung am Zug"}]},{"station":{"evaNr":"8000115_00","name":"Fulda","geocoordinates":{"latitude":50.554723,"longitude":9.683977}},"timetable":{"scheduledArrivalTime":1511035260000,"actualArrivalTime":1511035320000,"arrivalDelay":"+1","scheduledDepartureTime":1511035440000,"actualDepartureTime":1511035440000,"departureDelay":""},"track":{"scheduled":"6","actual":"6"},"info":{"status":0,"passed":false,"distance":85644,"distanceFromStart":408918},"delayReasons":[{"code":"36","text":"Technische Störung am Zug"}]},{"station":{"evaNr":"8003200_00","name":"Kassel-Wilhelmshöhe","geocoordinates":{"latitude":51.313114,"longitude":9.446898}},"timetable":{"scheduledArrivalTime":1511037300000,"actualArrivalTime":1511037360000,"arrivalDelay":"+1","scheduledDepartureTime":1511037720000,"actualDepartureTime":1511037720000,"departureDelay":""},"track":{"scheduled":"4","actual":"4"},"info":{"status":0,"passed":false,"distance":85974,"distanceFromStart":494892},"delayReasons":[{"code":"36","text":"Technische Störung am Zug"}]},{"station":{"evaNr":"8000128_00","name":"Göttingen","geocoordinates":{"latitude":51.536815,"longitude":9.926072}},"timetable":{"scheduledArrivalTime":1511038800000,"actualArrivalTime":1511038860000,"arrivalDelay":"+1","scheduledDepartureTime":1511038920000,"actualDepartureTime":1511038980000,"departureDelay":"+1"},"track":{"scheduled":"8","actual":"8"},"info":{"status":0,"passed":false,"distance":41515,"distanceFromStart":536407},"delayReasons":[{"code":"36","text":"Technische Störung am Zug"}]},{"station":{"evaNr":"8000152_00","name":"Hannover Hbf","geocoordinates":{"latitude":52.376761,"longitude":9.741021}},"timetable":{"scheduledArrivalTime":1511041200000,"actualArrivalTime":1511041260000,"arrivalDelay":"+1","scheduledDepartureTime":1511041800000,"actualDepartureTime":1511041800000,"departureDelay":""},"track":{"scheduled":"8","actual":"8"},"info":{"status":0,"passed":false,"distance":94281,"distanceFromStart":630688},"delayReasons":[{"code":"36","text":"Technische Störung am Zug"}]},{"station":{"evaNr":"8000279_00","name":"Nienburg(Weser)","geocoordinates":{"latitude":52.645566,"longitude":9.217753}},"timetable":{"scheduledArrivalTime":1511043420000,"actualArrivalTime":1511043480000,"arrivalDelay":"+1","scheduledDepartureTime":1511043540000,"actualDepartureTime":1511043600000,"departureDelay":"+1"},"track":{"scheduled":"2","actual":"2"},"info":{"status":0,"passed":false,"distance":46353,"distanceFromStart":677041},"delayReasons":[{"code":"36","text":"Technische Störung am Zug"}]},{"station":{"evaNr":"8006076_00","name":"Verden(Aller)","geocoordinates":{"latitude":52.920818,"longitude":9.237855}},"timetable":{"scheduledArrivalTime":1511044500000,"actualArrivalTime":1511044560000,"arrivalDelay":"+1","scheduledDepartureTime":1511044620000,"actualDepartureTime":1511044680000,"departureDelay":"+1"},"track":{"scheduled":"2","actual":"2"},"info":{"status":0,"passed":false,"distance":30645,"distanceFromStart":707686},"delayReasons":[{"code":"36","text":"Technische Störung am Zug"}]},{"station":{"evaNr":"8000050_00","name":"Bremen Hbf","geocoordinates":{"latitude":53.083481,"longitude":8.813834}},"timetable":{"scheduledArrivalTime":1511045760000,"actualArrivalTime":1511045880000,"arrivalDelay":"+2","scheduledDepartureTime":1511045880000,"actualDepartureTime":1511046000000,"departureDelay":"+2"},"track":{"scheduled":"1","actual":"1"},"info":{"status":0,"passed":false,"distance":33658,"distanceFromStart":741344},"delayReasons":[{"code":"36","text":"Technische Störung am Zug"}]},{"station":{"evaNr":"8000070_00","name":"Delmenhorst","geocoordinates":{"latitude":53.052792,"longitude":8.629758}},"timetable":{"scheduledArrivalTime":1511046480000,"actualArrivalTime":1511046600000,"arrivalDelay":"+2","scheduledDepartureTime":1511046600000,"actualDepartureTime":1511046720000,"departureDelay":"+2"},"track":{"scheduled":"3","actual":"3"},"info":{"status":0,"passed":false,"distance":12767,"distanceFromStart":754111},"delayReasons":[{"code":"36","text":"Technische Störung am Zug"}]},{"station":{"evaNr":"8000291_00","name":"Oldenburg(Oldb)","geocoordinates":{"latitude":53.144323,"longitude":8.222713}},"timetable":{"scheduledArrivalTime":1511047680000,"actualArrivalTime":1511047800000,"arrivalDelay":"+2","scheduledDepartureTime":null,"actualDepartureTime":null,"departureDelay":""},"track":{"scheduled":"4","actual":"4"},"info":{"status":0,"passed":false,"distance":29028,"distanceFromStart":783139},"delayReasons":[{"code":"36","text":"Technische Störung am Zug"}]}]});

    // render the trip and append it to the empty body
    TripRenderer(trip).appendTo($("#body").empty());
    console.log(TripRenderer(trip));
    
    // and setup the scrollspy
    $('.scrollspy').scrollSpy();
});